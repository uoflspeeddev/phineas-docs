<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Starting an interactive job &mdash; phineas-docs  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Submitting batch jobs" href="batch_jobs.html" />
    <link rel="prev" title="Slurm" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            phineas-docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/index.html">HPC system overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/index.html#quickstart">Quickstart</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Jobs</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Slurm</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Starting an interactive job</a></li>
<li class="toctree-l2"><a class="reference internal" href="#keeping-an-interactive-job-alive">Keeping an interactive job alive</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch_jobs.html">Submitting batch jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch_jobs.html#slurm-environmental-variables">Slurm environmental variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch_jobs.html#other-environmental-variables">Other environmental variables</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../software/index.html">Ansys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/index.html#matlab">Matlab</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">phineas-docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Slurm</a></li>
      <li class="breadcrumb-item active">Starting an interactive job</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/jobs/interactive_jobs.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="starting-an-interactive-job">
<span id="interactive-job"></span><h1>Starting an interactive job<a class="headerlink" href="#starting-an-interactive-job" title="Link to this heading"></a></h1>
<p>In addition to its various capabilities, the <code class="docutils literal notranslate"><span class="pre">srun</span></code> command,
in conjunction with the options <code class="docutils literal notranslate"><span class="pre">-i</span></code> and <code class="docutils literal notranslate"><span class="pre">--pty</span></code>,
facilitates the launching of interactive jobs.
Typically, users employ the following template to construct the complete <code class="docutils literal notranslate"><span class="pre">srun</span></code>
command for initiating an interactive job:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>srun<span class="w"> </span>--nodes<span class="o">=</span>&lt;nodes&gt;<span class="w"> </span>--ntasks-per-node<span class="o">=</span>&lt;cpus&gt;<span class="w"> </span>--time<span class="o">=</span>&lt;walltime&gt;<span class="w"> </span>--pty<span class="w"> </span>/bin/bash<span class="w"> </span>-i
</pre></div>
</div>
<p>In the template, <code class="docutils literal notranslate"><span class="pre">&lt;nodes&gt;</span></code> represents the desired number of nodes to be allocated,
<code class="docutils literal notranslate"><span class="pre">&lt;cpus&gt;</span></code> denotes the number of processors per node required by the job, and
<code class="docutils literal notranslate"><span class="pre">&lt;walltime&gt;</span></code> designates the maximum duration permitted for the interactive session to run.</p>
<p>Alternatively, users have the flexibility to include additional options,
such as <code class="docutils literal notranslate"><span class="pre">--mem</span></code>, to further customize the job requirements if the default settings are insufficient.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Interactive jobs are primarily intended for testing purposes.
For more substantial workloads, it is highly recommended to submit batch jobs.</p>
</div>
<p>Upon initiation of an interactive job, the system will provide feedback in the form of output
similar to the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">srun</span><span class="p">:</span> <span class="n">job</span> <span class="mi">12345</span> <span class="n">queued</span> <span class="ow">and</span> <span class="n">waiting</span> <span class="k">for</span> <span class="n">resources</span>
<span class="n">srun</span><span class="p">:</span> <span class="n">job</span> <span class="mi">12345</span> <span class="n">has</span> <span class="n">been</span> <span class="n">allocated</span> <span class="n">resources</span>
</pre></div>
</div>
<p>Subsequently, the user will be logged into one of the nodes allocated specifically for the job.
Note that concluding the command prompt session will result in the termination of the job.
Furthermore, if the job surpasses the defined limits in terms of walltime or memory usage,
it will be automatically aborted.</p>
<p><strong>Example:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. log into the cluster</span>
ssh<span class="w"> </span>user@phineas.spd.louisville.edu
<span class="c1"># 2. start a job in the longjobs queue with the following specifications:</span>
<span class="c1">#    a) The maximum time allowed for the job to run is 5h (--time=5:00:00)</span>
<span class="c1">#    b) The maximum memory that can be used by the job is 10G (--mem=10G)</span>
<span class="c1">#    c) Run on a single node (--nodes=1)</span>
<span class="c1">#    d) Allocate 4 cores for this job on the node (--ntasks-per-node=4)</span>
<span class="c1">#    e) Specify the job type is interactive (-i)</span>
<span class="c1">#    f) Specify the task (a shell in this case) to execute (--pty /bin/bash)</span>
srun<span class="w"> </span>--partition<span class="o">=</span>longjobs<span class="w"> </span>--time<span class="o">=</span><span class="m">5</span>:00:00<span class="w"> </span>--mem<span class="o">=</span>10G<span class="w"> </span>--ntasks-per-node<span class="o">=</span><span class="m">4</span><span class="w"> </span>--nodes<span class="o">=</span><span class="m">1</span><span class="w"> </span>--pty<span class="w"> </span>/bin/bash<span class="w"> </span>-i
</pre></div>
</div>
</section>
<section id="keeping-an-interactive-job-alive">
<h1>Keeping an interactive job alive<a class="headerlink" href="#keeping-an-interactive-job-alive" title="Link to this heading"></a></h1>
<p>To prevent the premature termination of interactive jobs due to a disruption
in the connection between the user’s personal computer and the login node,
the utilization of a terminal multiplexer such as tmux is highly recommended.
Follow the steps outlined below to employ tmux effectively:</p>
<ol class="arabic simple">
<li><p>Log into the cluster using your credentials.</p></li>
<li><p>Execute the command <code class="docutils literal notranslate"><span class="pre">tmux</span></code> to initiate a tmux session.</p></li>
<li><p>Launch the interactive job within the tmux session.</p></li>
</ol>
<p>In the event of a disconnection caused by internet issues or any other unforeseen problems,
users can effortlessly resume their work by reconnecting to the login node and reattaching to
the tmux session using the command <code class="docutils literal notranslate"><span class="pre">tmux</span> <span class="pre">attach</span></code>. Additionally, if there are multiple
tmux sessions running, users can utilize the command <code class="docutils literal notranslate"><span class="pre">tmux</span> <span class="pre">list-session</span></code>
to obtain a list of all sessions and subsequently attach to their desired session
by executing <code class="docutils literal notranslate"><span class="pre">tmux</span> <span class="pre">attach</span> <span class="pre">–t</span> <span class="pre">SESSION_NUMBER</span></code>.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Slurm" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="batch_jobs.html" class="btn btn-neutral float-right" title="Submitting batch jobs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Speed Technology Solutions.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>